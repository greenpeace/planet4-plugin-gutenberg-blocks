!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=15)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){var o=n(25);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(26),i=n(14);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t){!function(){e.exports=this.React}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){!function(){e.exports=this.wp.editor}()},function(e,t,n){var o=n(21),i=n(20),l=n(19);e.exports=function(e,t){return o(e)||i(e,t)||l()}},function(e,t){},function(e,t,n){var o=n(24),i=n(23),l=n(22);e.exports=function(e){return o(e)||i(e)||l()}},function(e,t){t.shortCodeTag="shortcake_articles",t.gutenbergTag="planet4-blocks/articles",t.shortCodeAttributes={article_heading:{type:"string",shortcode:function(e){return e.named.article_heading}},articles_description:{type:"string",shortcode:function(e){return e.named.articles_description}},article_count:{type:"string",shortcode:function(e){return e.named.article_count}},read_more_text:{type:"string",shortcode:function(e){return e.named.read_more_text}},read_more_link:{type:"string",shortcode:function(e){return e.named.read_more_link}},button_link_new_tab:{type:"string",shortcode:function(e){return e.named.button_link_new_tab}},ignore_categories:{type:"string",shortcode:function(e){return e.named.ignore_categories}},tags:{type:"string",shortcode:function(e){return e.named.tags?e.named.tags.split(","):[]}},post_types:{type:"string",shortcode:function(e){return e.named.tags?e.named.post_types.split(","):[]}},posts:{type:"string",shortcode:function(e){return e.named.tags?e.named.posts.split(","):[]}}},t.gutenbergAttributes={article_heading:{type:"string"},articles_description:{type:"string"},article_count:{type:"integer",default:3},tags:{type:"array",default:[]},posts:{type:"array",default:[]},post_types:{type:"array",default:[]},read_more_text:{type:"string"},read_more_link:{type:"string",default:""},button_link_new_tab:{type:"boolean",default:!1}}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){"use strict";n.r(t);var o=n(8),i=n.n(o),l=n(2),a=n.n(l),r=n(0),s=n(6),c=n.n(s),p=n(5),u=n.n(p),g=n(4),d=n.n(g),m=n(3),h=n.n(m),b=n(7),_=function(e){function t(){return a()(this,t),u()(this,d()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){return Object(r.createElement)("div",{className:"Preview"},this.props.showBar?Object(r.createElement)("div",{className:"PreviewBar"},"Preview"):null,this.props.children)}}]),t}(b.Component),f=n(1),v=wp.apiFetch,y=wp.url.addQueryArgs,k=function(e){function t(e){var n;a()(this,t),n=u()(this,d()(t).call(this,e));var o=e.tagsList.filter(function(t){return e.tags.includes(t.id)}).map(function(e){return e.name}),i=e.postTypesList.filter(function(t){return e.post_types.includes(t.id)}).map(function(e){return e.name});return n.state={tagTokens:o,postTypeTokens:i,selectedPosts:[]},n.populatePostsToken(),n}return h()(t,e),c()(t,[{key:"populatePostsToken",value:function(){var e=this;this.props.posts.length>0?v({path:y("/wp/v2/posts",{per_page:50,page:1,include:this.props.posts})}).then(function(t){var n=t.map(function(e){return e.title.rendered}),o=t.map(function(e){return e.title.rendered});e.setState({postsTokens:n,postsList:t,postsSuggestions:o,selectedPosts:t})}):this.setState({postsTokens:[],postsList:[],postsSuggestions:[],selectedPosts:[]})}},{key:"onPostsSearch",value:function(e){var t=this;v({path:y("/wp/v2/posts",{per_page:50,page:1,search:e,orderby:"title",post_status:"publish"})}).then(function(e){var n=e.map(function(e){return e.title.rendered});t.setState({postsSuggestions:n,postsList:e})})}},{key:"onSelectedTagsChange",value:function(e){var t=this,n=e.map(function(e){return t.props.tagsList.filter(function(t){return t.name===e})[0].id});this.props.onSelectedTagsChange(n),this.setState({tagTokens:e})}},{key:"onSelectedPostTypesChange",value:function(e){var t=this,n=e.map(function(e){return t.props.postTypesList.filter(function(t){return t.name===e})[0].id});this.props.onSelectedPostTypesChange(n),this.setState({postTypeTokens:e})}},{key:"onSelectedPostsChange",value:function(e){var t=this,n=[];e.forEach(function(e){var o=t.state.postsList.filter(function(t){return t.title.rendered===e});o.length>0&&n.push(o[0]),(o=t.state.selectedPosts.filter(function(t){return t.title.rendered===e})).length>0&&n.push(o[0])});var o=n.map(function(e){return e.id});this.props.onSelectedPostsChange(o),this.setState({postsTokens:e,selectedPosts:n})}},{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__,n=this.props.tagsList.map(function(e){return e.name}),o=this.props.postTypesList.map(function(e){return e.name});return Object(r.createElement)(b.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Title","p4ge"),placeholder:t("Enter title","p4ge"),help:t("Your default is set to [ Latest Articles ]","p4ge"),value:this.props.article_heading,onChange:this.props.onTitleChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:t("Description","p4ge"),placeholder:t("Enter description","p4ge"),value:this.props.articles_description,onChange:this.props.onDescriptionChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Button Text","p4ge"),placeholder:t("Override button text","p4ge"),help:t("Your default is set to [ Load More ]","p4ge"),value:this.props.read_more_text,onChange:this.props.onReadmoretextChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Button Link","p4ge"),placeholder:t("Add read more button link","p4ge"),value:this.props.read_more_link,onChange:this.props.onReadmorelinkChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.CheckboxControl,{label:t("Open in a new Tab","p4ge"),help:t("Open button link in new tab","p4ge"),value:this.props.button_link_new_tab,checked:this.props.button_link_new_tab,onChange:function(t){return e.props.onButtonLinkTabChange(t)}})),"undefined"!==this.props.posts&&0===this.props.posts.length?Object(r.createElement)(b.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Articles count","p4ge"),help:t("Number of articles","p4ge"),type:"number",value:this.props.article_count,onChange:this.props.onCountChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.FormTokenField,{value:this.state.tagTokens,suggestions:n,label:t("Select Tags","p4ge"),onChange:function(t){return e.onSelectedTagsChange(t)}}),Object(r.createElement)("p",{className:"FieldHelp"},"Associate this block with Actions that have specific Tags")),Object(r.createElement)("div",null,Object(r.createElement)(f.FormTokenField,{value:this.state.postTypeTokens,suggestions:o,label:t("Post Types","p4ge"),onChange:function(t){return e.onSelectedPostTypesChange(t)}})),Object(r.createElement)("div",{className:"ignore-categories-wrapper"},Object(r.createElement)(f.CheckboxControl,{label:t("Ignore categories","p4ge"),help:t("Ignore categories when filtering posts to populate the content of this block","p4ge"),value:this.props.ignore_categories,checked:this.props.ignore_categories,onChange:function(t){return e.props.onIgnoreCategoriesChange(t)}}))):null,0===this.props.tags.length&&0===this.props.post_types.length?Object(r.createElement)("div",null,Object(r.createElement)("hr",null),Object(r.createElement)("label",null,t("Manual override","p4ge")),Object(r.createElement)(f.FormTokenField,{value:this.state.postsTokens,suggestions:this.state.postsSuggestions,label:t("CAUTION: Adding articles individually will override the automatic functionality of this block. For good user experience, please include at least three articles so that spacing and alignment of the design remains in tact.","p4ge"),onChange:function(t){return e.onSelectedPostsChange(t)},onInputChange:function(t){return e.onPostsSearch(t)},placeholder:"Select Posts",maxLength:"10",maxSuggestions:"20"})):null)}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/articles",attributes:{read_more_text:this.props.read_more_text,read_more_link:this.props.read_more_link,tags:this.props.tags,post_types:this.props.post_types,posts:this.props.posts,article_heading:this.props.article_heading,articles_description:this.props.articles_description,article_count:this.props.article_count,ignore_categories:this.props.ignore_categories}})))}}]),t}(b.Component),C=n(13),E=n(12),O=n.n(E),j=n(9),S=n(14),w=n.n(S),T=function(e){function t(e){var n;return a()(this,t),(n=u()(this,d()(t).call(this,e))).state={selectedOption:e.selectedOption},n.setSelected=n.setSelected.bind(w()(n)),n}return h()(t,e),c()(t,[{key:"setSelected",value:function(e){this.setState({selectedOption:e}),this.props.onSelectedLayoutChange(e)}},{key:"render",value:function(){var e=this;return Object(r.createElement)("div",{className:"LayoutSelector"},this.props.options.map(function(t,n){return Object(r.createElement)("label",{className:"LayoutOption",key:n},Object(r.createElement)("div",{style:{display:"flex"}},Object(r.createElement)(f.RadioControl,{name:"layoutOption",selected:e.state.selectedOption,options:[{value:t.value}],onChange:e.setSelected}),t.label),t.image?Object(r.createElement)("img",{src:t.image}):null,t.help?Object(r.createElement)("p",{className:"help",dangerouslySetInnerHTML:{__html:t.help}}):null)}))}}]),t}(b.Component),x=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__,n=this.props,o=n.columns_title,i=n.columns_description,l=n.columns_block_style,a=n.columns;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("h3",null,t("What style of column do you need?","p4ge")),Object(r.createElement)("div",null,Object(r.createElement)(T,{selectedOption:l,onSelectedLayoutChange:this.props.onSelectedLayoutChange,options:[{label:t("No Image","p4ge"),image:window.p4ge_vars.home+"images/columns-no_images.jpg",value:"no_image",help:t("Optional headers, description text and buttons in a column display.","p4ge")},{label:t("Tasks","p4ge"),image:window.p4ge_vars.home+"images/columns-tasks.jpg",value:"tasks",help:t("Used on Take Action pages, this display has ordered tasks, and call to action buttons.","p4ge")},{label:t("Icons","p4ge"),image:window.p4ge_vars.home+"images/columns-icons.jpg",value:"icons",help:t("For more static content, this display has an icon, header, description and text link.","p4ge")},{label:t("Images","p4ge"),image:window.p4ge_vars.home+"images/columns-images.jpg",value:"image",help:t("For more static content, this display has an image, header, description and text link.","p4ge")}]})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Title","p4ge"),placeholder:t("Enter block title","p4ge"),value:o,onChange:this.props.onTitleChange}),Object(r.createElement)(f.TextareaControl,{label:t("Description","p4ge"),placeholder:t("Enter block description","p4ge"),value:i,onChange:this.props.onDescriptionChange})),Object(r.createElement)("div",null,a.map(function(n,o){return Object(r.createElement)("div",{key:o},Object(r.createElement)("div",null,Object(r.createElement)("hr",null),Object(r.createElement)("i",null,t("In order for the column to appear at least <strong>Header or Body</strong> has to be filled.","p4ge"))),Object(r.createElement)(f.TextControl,{label:t("Column %s: Header","p4ge").replace("%s",o+1),placeholder:t("Enter header of %s column","p4ge").replace("%s",o+1),value:n.title,onChange:e.props.onColumnHeaderChange.bind(e,o)}),Object(r.createElement)(f.TextareaControl,{label:t("Column %s: Body","p4ge").replace("%s",o+1),placeholder:t("Enter body of %s column","p4ge").replace("%s",o+1),value:n.description,onChange:e.props.onColumnDescriptionChange.bind(e,o)}),"no_image"!=l&&Object(r.createElement)(j.MediaPlaceholder,{labels:{title:t("Column %s: Image","p4ge").replace("%s",o+1)},icon:"format-image",onSelect:e.props.onSelectImage.bind(e,o),onSelectURL:e.props.onSelectURL.bind(e,o),onError:e.props.onUploadError,accept:"image/*",allowedTypes:["image"]}),Object(r.createElement)(f.TextControl,{label:t("Column %s: Button/CtA Link","p4ge").replace("%s",o+1),placeholder:t("Enter link for column %s","p4ge").replace("%s",o+1),value:n.cta_link,onChange:e.props.onCTALinkChange.bind(e,o)}),Object(r.createElement)(f.ToggleControl,{label:t("Open link in new tab","p4ge"),help:t("Open Column %s: Button/CtA Link in a new tab","p4ge").replace("%s",o+1),value:n.link_new_tab,checked:n.link_new_tab,onChange:e.props.onLinkNewTabChange.bind(e,o)}),Object(r.createElement)(f.TextControl,{label:t("Column %s: Button/CtA Text","p4ge").replace("%s",o+1),placeholder:t("Enter text of button/link for column %s","p4ge").replace("%s",o+1),value:n.cta_text,onChange:e.props.onCTAButtonTextChange.bind(e,o)}))}),a.length<4&&Object(r.createElement)(f.Tooltip,{text:t("Add Column","p4ge")},Object(r.createElement)("button",{className:"wp-block-p4ge-blocks-columns__addIcon",onClick:this.props.addColumn},t("Add Column","p4ge")," ",Object(r.createElement)(f.Dashicon,{icon:"plus",size:12}))),a.length>0&&Object(r.createElement)(f.Tooltip,{text:t("Remove Column","p4ge")},Object(r.createElement)("button",{className:"wp-block-p4ge-blocks-columns__removeIcon",onClick:this.props.removeColumn},t("Remove Column","p4ge")," ",Object(r.createElement)(f.Dashicon,{icon:"minus",size:12})))))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/columns",attributes:{columns_block_style:this.props.columns_block_style,columns_title:this.props.columns_title,columns_description:this.props.columns_description,columns:this.props.columns}})))}}]),t}(r.Component),L=wp.i18n.__,I=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=wp.i18n.__;return Object(r.createElement)(b.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)("h2",null,e("Cookies options","p4ge")),Object(r.createElement)("p",null,Object(r.createElement)("i",null,e("Display opt-in options for cookies","p4ge"))),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:"Title",placeholder:"Enter title",value:this.props.title,onChange:this.props.onTitleChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:"Description",placeholder:"Enter description",value:this.props.description,onChange:this.props.onDescriptionChange})),Object(r.createElement)("hr",null),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:"Necessary Cookies Name",placeholder:"Enter cookies name",value:this.props.necessary_cookies_name,onChange:this.props.onNecessaryCookiesNameChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:"Necessary Cookies Description",placeholder:"Enter cookies description",value:this.props.necessary_cookies_description,onChange:this.props.onNecessaryCookiesDescriptionChange})),Object(r.createElement)("hr",null),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:"All Cookies Name",placeholder:"Enter cookies name",value:this.props.all_cookies_name,onChange:this.props.onAllCookiesNameChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:"All Cookies Description",placeholder:"Enter cookies description",value:this.props.all_cookies_description,onChange:this.props.onAllCookiesDescriptionChange}))))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/cookies",attributes:{title:this.props.title,description:this.props.description,necessary_cookies_name:this.props.necessary_cookies_name,necessary_cookies_description:this.props.necessary_cookies_description,all_cookies_name:this.props.all_cookies_name,all_cookies_description:this.props.all_cookies_description},urlQueryArgs:{post_id:document.querySelector("#post_ID").value}})))}}]),t}(b.Component),P=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=wp.i18n.__;return Object(r.createElement)("div",null,Object(r.createElement)("h3",null,e("What style of counter do you need?","p4ge")),Object(r.createElement)("div",null,Object(r.createElement)(T,{selectedOption:this.props.style,onSelectedLayoutChange:this.props.onSelectedLayoutChange,options:[{label:e("Text Only","p4ge"),image:window.p4ge_vars.home+"images/counter_th_text.png",value:"plain",help:e("Text to describe your progress","p4ge")},{label:e("Progress Bar","p4ge"),image:window.p4ge_vars.home+"images/counter_th_bar.png",value:"bar",help:e("A bar to visualise the progress.","p4ge")},{label:e("Progress Dial","p4ge"),image:window.p4ge_vars.home+"images/counter_th_arc.png",value:"arc",help:e("A dial to visualise the progress.","p4ge")},{label:e("Progress bar inside EN Form","p4ge"),image:window.p4ge_vars.home+"images/counter_th_bar.png",value:"en-forms-bar",help:e("A bar inside an En Form. Select this only if you are adding an EN Form to the same page.","p4ge")}]})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("Title","p4ge"),placeholder:e("Enter title","p4ge"),value:this.props.title,onChange:this.props.onTitleChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:e("Description","p4ge"),placeholder:e("Enter description","p4ge"),value:this.props.description,onChange:this.props.onDescriptionChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("Completed","p4ge"),placeholder:e("e.g. number of signatures","p4ge"),type:"number",value:this.props.completed,onChange:this.props.onCompletedChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("Completed API URL","p4ge"),placeholder:e("API URL of completed number. If filled in will overide the 'Completed' field","p4ge"),value:this.props.completed_api,onChange:this.props.onCompletedAPIChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("Target","p4ge"),placeholder:e("e.g. target no. of signatures","p4ge"),type:"number",value:this.props.target,onChange:this.props.onTargetChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:e("Text","p4ge"),placeholder:e('e.g. "signatures collected of %target%"',"p4ge"),value:this.props.text,onChange:this.props.onTextChange}),Object(r.createElement)("p",{className:"FieldHelp"},"These placeholders can be used: ",Object(r.createElement)("code",null,"%completed%"),", ",Object(r.createElement)("code",null,"%target%"),", ",Object(r.createElement)("code",null,"%remaining%")," ")))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/counter",attributes:{title:this.props.title,description:this.props.description,style:this.props.style,completed:this.props.completed,completed_api:this.props.completed_api,target:this.props.target,text:this.props.text}})))}}]),t}(b.Component),N=function(e){function t(){return a()(this,t),u()(this,d()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){return Object(r.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",x:"0px",y:"0px",viewBox:"0 0 66 82.5","enable-background":"new 0 0 66 66"},Object(r.createElement)("g",null,Object(r.createElement)("g",null,Object(r.createElement)("path",{d:"M8.193,37.334l23.804-10.512v-8.007L6.099,30.093c-0.24,0.11-0.44,0.31-0.53,0.56c-0.1,0.24-0.09,0.52,0.01,0.76    L8.193,37.334z"}),Object(r.createElement)("path",{d:"M8.999,39.163l4.9,11.08c4.55-1.49,7.1,2.61,8.76,3.78c1.51-1.01,4.47-5.71,9.34-3.55v-21.47L8.999,39.163z     M21.059,42.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49    C21.779,42.033,21.559,42.623,21.059,42.853z M27.059,39.853l-1,0.46c-0.5,0.23-1.1,0.02-1.33-0.49c-0.23-0.5-0.01-1.09,0.49-1.33    l1-0.46c0.5-0.23,1.1-0.01,1.33,0.49C27.779,39.033,27.559,39.623,27.059,39.853z"}),Object(r.createElement)("path",{d:"M33.998,26.816l24.005,10.392l2.416-5.816c0.21-0.5-0.02-1.08-0.52-1.3L33.998,18.813V26.816z"}),Object(r.createElement)("path",{d:"M33.999,28.993v22.77c0.95,0.8,2.02,2.26,2.44,2.26c1.97-1.66,3.56-4.08,6.88-4.08c4.21,0,6.03,4.07,6.9,4.07    c0.1-0.087,0.722-0.298,1.25-1.09l5.77-13.87L33.999,28.993z M41.269,39.823c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46    c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.83-0.72,1.33-0.49l1,0.46C41.279,38.733,41.499,39.323,41.269,39.823z M47.269,42.823    c-0.23,0.5-0.83,0.72-1.33,0.49l-1-0.46c-0.5-0.23-0.72-0.82-0.49-1.33c0.23-0.5,0.82-0.72,1.33-0.49l1,0.46    C47.279,41.733,47.499,42.323,47.269,42.823z"})),Object(r.createElement)("g",null,Object(r.createElement)("path",{d:"M37.999,2.983v5.63h-10v-5.63c0-1.1,0.9-2,2-2h6C37.099,0.983,37.999,1.883,37.999,2.983z"})),Object(r.createElement)("path",{d:"M48.319,13.823c-0.38-1.86-2.03-3.21-3.93-3.21h-22.78c-1.9,0-3.55,1.35-3.92,3.21l-1.98,9.91   c5.27-2.31,11.32-4.94,17.29-7.54c1.02,0.45,9.84,4.29,17.29,7.54L48.319,13.823z M24.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1   h2c0.55,0,1,0.45,1,1S25.549,17.233,24.999,17.233z M42.999,17.233h-2c-0.55,0-1-0.45-1-1s0.45-1,1-1h2c0.55,0,1,0.45,1,1   S43.549,17.233,42.999,17.233z"}),Object(r.createElement)("path",{d:"M64,62.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1C65,63.43,64.552,62.982,64,62.982z"}),Object(r.createElement)("path",{d:"M64,55.982c-1.207,0-1.78-0.597-2.69-1.653c-2.737-3.176-5.671-3.178-8.41,0c-1.901,2.205-3.401,2.296-5.378,0   c-2.735-3.175-5.668-3.179-8.403,0c-1.938,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.668-3.178-8.404,0   c-1.939,2.252-3.43,2.254-5.371,0c-2.735-3.177-5.667-3.178-8.402,0c-1.939,2.251-3.429,2.254-5.37,0   c-0.9-1.046-2.02-2.348-4.2-2.348c-0.552,0-1,0.448-1,1s0.448,1,1,1c1.204,0,1.776,0.597,2.684,1.652   c2.733,3.177,5.665,3.178,8.401,0c1.939-2.252,3.43-2.254,5.371,0c2.735,3.177,5.667,3.178,8.402,0   c1.939-2.252,3.432-2.254,5.373,0c2.734,3.176,5.667,3.179,8.402,0c1.938-2.252,3.43-2.254,5.372,0c2.736,3.176,5.67,3.178,8.409,0   c1.942-2.252,3.437-2.255,5.381,0c0.901,1.046,2.023,2.347,4.205,2.347c0.552,0,1-0.448,1-1S64.552,55.982,64,55.982z"})))}}]),t}(b.Component),A=wp.apiFetch,F=wp.url.addQueryArgs,B=function(e){function t(e){var n;a()(this,t),n=u()(this,d()(t).call(this,e));var o=e.tagsList.filter(function(t){return e.tags.includes(t.id)}).map(function(e){return e.name}),i=e.postTypesList.filter(function(t){return e.post_types.includes(t.id)}).map(function(e){return e.name});return n.state={tagTokens:o,postTypeTokens:i,selectedPosts:[]},n.populatePostsToken(),n.searchTimeout=null,n}return h()(t,e),c()(t,[{key:"populatePostsToken",value:function(){var e=this;if(this.props.posts.length>0){var t="1"===this.props.cover_type?"pages":"posts";A({path:F("/wp/v2/"+t,{per_page:50,page:1,include:this.props.posts})}).then(function(t){var n=t.map(function(e){return e.title.rendered}),o=t.map(function(e){return e.title.rendered});e.setState({postsTokens:n,postsList:t,postsSuggestions:o,selectedPosts:t})})}else this.setState({postsTokens:[],postsList:[],postsSuggestions:[],selectedPosts:[]})}},{key:"searchPosts",value:function(e){var t,n=this;t="1"===this.props.cover_type?{path:F("/wp/v2/pages",{per_page:-1,post_type:"page",post_parent:window.p4ge_vars.planet4_options.act_page,search:e,orderby:"title",post_status:"publish"})}:{path:F("/wp/v2/posts",{per_page:50,page:1,search:e,orderby:"title",post_status:"publish"})},A(t).then(function(e){var t=e.map(function(e){return e.title.rendered});n.setState({postsSuggestions:t,postsList:e})})}},{key:"onPostsSearch",value:function(e){clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(function(){this.searchPosts(e)}.bind(this),500)}},{key:"onSelectedTagsChange",value:function(e){var t=this,n=e.map(function(e){return t.props.tagsList.filter(function(t){return t.name===e})[0].id});this.props.onSelectedTagsChange(n),this.setState({tagTokens:e})}},{key:"onSelectedPostTypesChange",value:function(e){var t=this,n=e.map(function(e){return t.props.postTypesList.filter(function(t){return t.name===e})[0].id});this.props.onSelectedPostTypesChange(n),this.setState({postTypeTokens:e})}},{key:"onSelectedPostsChange",value:function(e){var t=this,n=[];e.forEach(function(e){var o=t.state.postsList.filter(function(t){return t.title.rendered===e});o.length>0&&n.push(o[0]),(o=t.state.selectedPosts.filter(function(t){return t.title.rendered===e})).length>0&&n.push(o[0])});var o=n.map(function(e){return e.id});this.props.onSelectedPostsChange(o),this.setState({postsTokens:e,selectedPosts:n})}},{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__,n=this.props.tagsList.map(function(e){return e.name}),o=this.props.postTypesList.map(function(e){return e.name});return Object(r.createElement)("div",null,Object(r.createElement)("h3",null,t("What style of cover do you need?","p4ge")),Object(r.createElement)("div",null,Object(r.createElement)(T,{selectedOption:this.props.cover_type,onSelectedLayoutChange:this.props.onSelectedLayoutChange,options:[{label:t("Take Action Covers","p4ge"),image:window.p4ge_vars.home+"images/take_action_covers.png",value:"1",help:t("Take action covers pull the featured image, tags, have a 25 character excerpt and have a call to action button")},{label:t("Campaign Covers","p4ge"),image:window.p4ge_vars.home+"images/campaign_covers.png",value:"2",help:t("Campaign covers pull the associated image and hashtag from the system tag definitions.")},{label:t("Content Covers","p4ge"),image:window.p4ge_vars.home+"images/content_covers.png",value:"3",help:t("Content covers pull the image from the post.")}]})),Object(r.createElement)("div",null,Object(r.createElement)(f.SelectControl,{label:"Rows to display",value:this.props.covers_view,options:[{label:"1 Row",value:"1"},{label:"2 Rows",value:"2"},{label:"All rows",value:"3"}],onChange:this.props.onRowsChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:"Title",placeholder:"Enter title",value:this.props.title,onChange:this.props.onTitleChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:"Description",placeholder:"Enter description",value:this.props.description,onChange:this.props.onDescriptionChange})),"undefined"!==this.props.posts&&0===this.props.posts.length?Object(r.createElement)("div",null,Object(r.createElement)(f.FormTokenField,{value:this.state.tagTokens,suggestions:n,label:"Select Tags",onChange:function(t){return e.onSelectedTagsChange(t)},placeholder:"Select Tags"}),Object(r.createElement)("p",{class:"FieldHelp"},"Associate this block with Actions that have specific Tags")):null,"3"===this.props.cover_type&&0===this.props.posts.length?Object(r.createElement)(f.FormTokenField,{value:this.state.postTypeTokens,suggestions:o,label:"Post Types",onChange:function(t){return e.onSelectedPostTypesChange(t)},placeholder:"Select Tags"}):null,"1"!==this.props.cover_type&&"3"!==this.props.cover_type||0!==this.props.tags.length||0!==this.props.post_types.length?null:Object(r.createElement)("div",null,Object(r.createElement)("label",null,"Manual override"),Object(r.createElement)(f.FormTokenField,{value:this.state.postsTokens,suggestions:this.state.postsSuggestions,label:"CAUTION: Adding covers manually will override the automatic functionality.",onChange:function(t){return e.onSelectedPostsChange(t)},onInputChange:function(t){return e.onPostsSearch(t)},placeholder:"Select Tags"})))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/covers",attributes:{cover_type:this.props.cover_type,covers_view:this.props.covers_view,tags:this.props.tags,post_types:this.props.post_types,posts:this.props.posts,title:this.props.title,description:this.props.description}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return"1"!==e.cover_type&&"2"!==e.cover_type||(t.postTypeTokens=[]),0===e.posts.length&&(t.postsTokens=[]),t}}]),t}(b.Component),R=n(11),D=n(10),U=n.n(D),M=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__,n=this.props,o=n.gallery_block_style,i=n.gallery_block_title,l=n.gallery_block_description,a=n.multiple_image,s=n.image_data,c={width:400,height:100},p=a?a.split(","):[];return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.BlockControls,null,0<s.length&&Object(r.createElement)(f.Toolbar,null,0<p.length&&Object(r.createElement)(j.MediaUploadCheck,null,Object(r.createElement)(j.MediaUpload,{onSelect:this.props.onSelectImage,allowedTypes:["image"],value:p,type:"image",multiple:"true",render:function(e){var n=e.open;return Object(r.createElement)(f.IconButton,{className:"components-icon-button components-toolbar__control",label:t("Edit Images","mytheme-blocks"),onClick:n,icon:"edit"})}})),Object(r.createElement)(f.IconButton,{className:"components-icon-button components-toolbar__control",label:t("Remove Images","mytheme-blocks"),onClick:this.props.onRemoveImages,icon:"trash"}))),Object(r.createElement)("h3",null,t("What style of gallery do you need?","p4ge")),Object(r.createElement)("div",null,Object(r.createElement)(T,{selectedOption:o,onSelectedLayoutChange:this.props.onSelectedLayoutChange,options:[{label:t("Slider","p4ge"),image:window.p4ge_vars.home+"images/gallery-slider.jpg",value:1,help:t("The slider is a carousel of images. For more than 5 images, consider using a grid.","p4ge")},{label:t("3 Column","p4ge"),image:window.p4ge_vars.home+"images/gallery-3-column.jpg",value:2,help:t("The 3 column image display is great for accentuating text, and telling a visual story.","p4ge")},{label:t("Grid","p4ge"),image:window.p4ge_vars.home+"images/gallery-grid.jpg",value:3,help:t("The grid shows thumbnails of lots of images. Good to use when showing lots of activity.","p4ge")}]})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Title","p4ge"),placeholder:t("Enter Title","p4ge"),value:i,onChange:this.props.onTitleChange}),Object(r.createElement)(f.TextareaControl,{label:t("Description","p4ge"),help:t("Please Enter Description","p4ge"),value:l,onChange:this.props.onDescriptionChange}),t("Select Gallery Images","p4ge"),Object(r.createElement)("div",null,Object(r.createElement)(j.MediaUploadCheck,null,Object(r.createElement)(j.MediaUpload,{title:t("Select Gallery Images","p4ge"),type:"image",onSelect:this.props.onSelectImage,value:p,allowedTypes:["image"],multiple:"true",render:function(n){var o,i=n.open;return o=i,0<e.props.image_data.length?e.props.image_data.map(function(e,t){return Object(r.createElement)("span",null,Object(r.createElement)("img",{src:e.url,onClick:o,className:"gallery__imgs",key:t,width:"150 px",style:{padding:"10px 10px"}}))}):Object(r.createElement)("div",{className:"button-container"},Object(r.createElement)(f.Button,{onClick:o,className:"button"},"+ ",t("Select Gallery Images","p4ge")),Object(r.createElement)("div",null,t("Select images in the order you want them to appear.","p4ge")))}}))),s&&Object(r.createElement)("div",{className:"wp-block-master-theme-gallery__FocalPointPicker"},Object(r.createElement)("ul",null,s.map(function(n,o){return Object(r.createElement)("li",{key:o},t("Select gallery image focal point","p4ge"),Object(r.createElement)(f.FocalPointPicker,{url:n.url,dimensions:c,value:n.focalPoint,onChange:e.props.onFocalPointChange.bind(e,n.id),key:n.id}))})))))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/gallery",attributes:{gallery_block_style:this.props.gallery_block_style,gallery_block_title:this.props.gallery_block_title,gallery_block_description:this.props.gallery_block_description,multiple_image:this.props.multiple_image,gallery_block_focus_points:this.props.gallery_block_focus_points}})))}}]),t}(r.Component),z=(wp.i18n.__,function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__,n=this.props,o=n.focus_image,i=n.opacity,l=n.mailing_list_iframe,a=n.iframe_url,s=n.url,c=n.id,p={x:"",y:""};if(o){var u=o.replace(/%/g,"").split(" "),g=U()(u,2);p={x:g[0]/100,y:g[1]/100}}else p={x:.5,y:.5};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(j.InspectorControls,null,Object(r.createElement)(f.PanelBody,{title:t("Setting","p4ge")},Object(r.createElement)(f.RangeControl,{label:t("Opacity","p4ge"),value:i,onChange:this.props.onOpacityChange,min:1,max:100,initialPosition:i,help:t("We use an overlay to fade the image back. Use a number between 1 and 100, the higher the number, the more faded the image will look. If you leave this empty, the default of 30 will be used.","p4ge")}),Object(r.createElement)(f.ToggleControl,{label:t("Use mailing list iframe","p4ge"),help:t("Use mailing list iframe","p4ge"),value:l,checked:this.props.mailing_list_iframe,onChange:this.props.onMailingListIframeChange}),Object(r.createElement)(f.TextControl,{label:t("Iframe url","p4ge"),placeholder:t("Enter Iframe url","p4ge"),help:t("If a url is set in this field and the 'mailing list iframe' option is enabled, it will override the planet4 engaging network setting.","p4ge"),value:a,onChange:this.props.onIframeUrlChange}))),Object(r.createElement)(j.BlockControls,null,this.props.id&&0<this.props.id&&Object(r.createElement)(f.Toolbar,null,Object(r.createElement)(j.MediaUploadCheck,null,Object(r.createElement)(j.MediaUpload,{onSelect:this.props.onSelectImage,allowedTypes:["image"],value:c,type:"image",render:function(e){var n=e.open;return Object(r.createElement)(f.IconButton,{className:"components-icon-button components-toolbar__control",label:t("Edit Image","p4ge"),onClick:n,icon:"edit"})}})),Object(r.createElement)(f.IconButton,{className:"components-icon-button components-toolbar__control",label:t("Remove Image","p4ge"),onClick:this.props.onRemoveImages,icon:"trash"}))),t("Select Background Image","p4ge"),Object(r.createElement)("div",null,Object(r.createElement)(j.MediaUploadCheck,null,Object(r.createElement)(j.MediaUpload,{title:t("Select Background Image","p4ge"),type:"image",onSelect:this.props.onSelectImage,value:c,allowedTypes:["image"],render:function(n){var o,i=n.open;return o=i,e.props.id&&0<e.props.id?Object(r.createElement)("div",{align:"center"},Object(r.createElement)("img",{src:e.props.url,onClick:o,className:"happypoint__imgs",width:"400px",style:{padding:"10px 10px"}})):Object(r.createElement)("div",{className:"button-container"},Object(r.createElement)(f.Button,{onClick:o,className:"button"},"+ ",t("Select Background Image","p4ge")))}}))),c&&0<c&&Object(r.createElement)("div",null,t("Select focus point for background image","p4ge"),Object(r.createElement)(f.FocalPointPicker,{url:s,dimensions:{width:400,height:100},value:p,onChange:this.props.onFocalPointChange})))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/happypoint",attributes:{id:this.props.id,focus_image:this.props.focus_image,opacity:this.props.opacity,mailing_list_iframe:this.props.mailing_list_iframe,iframe_url:this.props.iframe_url,load_iframe:!0}})))}}]),t}(r.Component)),H=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=wp.i18n.__,t=this.props,n=t.video_title,o=t.description,i=t.youtube_id;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("Media Title","p4ge"),placeholder:e("Enter video title","p4ge"),value:n,onChange:this.props.onTitleChange}),Object(r.createElement)(f.TextareaControl,{label:e("Description","p4ge"),help:e("(Optional)","p4ge"),value:o,onChange:this.props.onDescriptionChange}),Object(r.createElement)(f.TextControl,{label:e("Media URL/ID","p4ge"),placeholder:e("Enter URL","p4ge"),value:i,onChange:this.props.onMediaUrlChange,help:e("Can be a YouTube, Vimeo or Soundcloud URL or an mp4, mp3 or wav file URL.","p4ge")}),Object(r.createElement)(j.MediaPlaceholder,{labels:{title:e("Video poster image [Optional]","p4ge"),instructions:e("Applicable for .mp4 video URLs only.","p4ge")},icon:"format-image",onSelect:this.props.onSelectImage,onSelectURL:this.props.onSelectURL,onError:this.props.onUploadError,accept:"image/*",allowedTypes:["image"]})))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},this.props.youtube_id&&Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/media-video",attributes:{video_title:this.props.video_title,description:this.props.description,youtube_id:this.props.youtube_id,video_poster_img:this.props.video_poster_img}})))}}]),t}(r.Component),J=wp.i18n.__,G=(wp.apiFetch,wp.url.addQueryArgs,function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.checkTwitterScript(),this.checkInstagramScript()}},{key:"componentDidUpdate",value:function(){this.checkTwitterScript(),this.checkInstagramScript()}},{key:"checkTwitterScript",value:function(){this.props.social_media_url.includes("twitter")&&(null===document.querySelector('script[src="https://platform.twitter.com/widgets.js"]')?this.loadScriptAsync("https://platform.twitter.com/widgets.js").then(function(){this.initializeTwitterEmbeds()}.bind(this)):this.initializeTwitterEmbeds())}},{key:"checkInstagramScript",value:function(){this.props.social_media_url.includes("instagram")&&(null===document.querySelector('script[src="https://www.instagram.com/embed.js"]')?this.loadScriptAsync("https://www.instagram.com/embed.js").then(function(){this.initializeInstagramEmbeds()}.bind(this)):this.initializeInstagramEmbeds())}},{key:"initializeTwitterEmbeds",value:function(){setTimeout(function(){"undefined"!==window.twttr&&window.twttr.widgets.load()},2e3)}},{key:"initializeInstagramEmbeds",value:function(){setTimeout(function(){"undefined"!==window.instgrm&&window.instgrm.Embeds.process()},3e3)}},{key:"loadScriptAsync",value:function(e){return new Promise(function(t,n){var o=document.createElement("script");o.src=e,o.async=!0,o.onload=function(){t()},document.getElementsByTagName("body")[0].appendChild(o)})}},{key:"renderEdit",value:function(){var e=wp.i18n.__,t=e("Select oEmbed for the following types of social media<br>- Twitter: tweet, profile, list, collection, likes, moment<br>- Facebook: post, activity, photo, video, media, question, note<br>- Instagram: image","planet4-blocks-backend");return Object(r.createElement)(b.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("Title","planet4-blocks-backend"),placeholder:e("Enter title","planet4-blocks-backend"),help:e("Optional","planet4-blocks-backend"),value:this.props.title,onChange:this.props.onTitleChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:e("Description","planet4-blocks-backend"),placeholder:e("Enter description","planet4-blocks-backend"),help:e("Optional","planet4-blocks-backend"),value:this.props.description,onChange:this.props.onDescriptionChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.RadioControl,{label:e("Embed type","planet4-blocks-backend"),help:Object(r.createElement)(r.RawHTML,null,t),options:[{label:"oEmbed",value:"oembed"},{label:"Facebook page",value:"facebook_page"}],selected:this.props.embed_type,onChange:this.props.onEmbedTypeChange})),"facebook_page"===this.props.embed_type?Object(r.createElement)("div",null,Object(r.createElement)(f.SelectControl,{label:e("What Facebook page content would you like to display?","planet4-blocks-backend"),value:this.props.facebook_page_tab,options:[{label:"Timeline",value:"timeline"},{label:"Events",value:"events"},{label:"Mesages",value:"messages"}],onChange:this.props.onFacebookPageTabChange})):null,Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:e("URL","planet4-blocks-backend"),placeholder:e("Enter URL","planet4-blocks-backend"),value:this.props.social_media_url,onChange:this.props.onSocialMediaUrlChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.SelectControl,{label:e("Alignment","planet4-blocks-backend"),value:this.props.alignment_class,options:[{label:"None",value:""},{label:"Left",value:"alignleft"},{label:"Center",value:"aligncenter"},{label:"Right",value:"alignright"}],onChange:this.props.onAlignmentChange})))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/social-media",attributes:{title:this.props.title,description:this.props.description,embed_type:this.props.embed_type,facebook_page_tab:this.props.facebook_page_tab,social_media_url:this.props.social_media_url,alignment_class:this.props.alignment_class}})))}}]),t}(b.Component)),q=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this;wp.i18n.__;return Object(r.createElement)("div",{className:"ImageOrButton"},Object(r.createElement)(j.MediaUploadCheck,null,Object(r.createElement)(j.MediaUpload,{title:this.props.title,type:"image",onSelect:this.props.onSelectImage,value:this.props.imageId,allowedTypes:["image"],render:function(t){var n,o=t.open;return n=o,e.props.imageId?Object(r.createElement)("img",{src:e.props.imageUrl,onClick:n,className:e.props.imgClass}):Object(r.createElement)("div",{className:"button-container"},Object(r.createElement)(f.Button,{onClick:n,className:"button"},e.props.buttonLabel),Object(r.createElement)("div",null,e.props.help))}})))}}]),t}(b.Component),W=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=this.props.tagsList.map(function(e){return{label:e.name,value:e.id}});e.unshift({label:"--Select Tag--",value:0});var t=this.props.issuepageList.map(function(e){return{label:e.title.raw,value:e.id}});t.unshift({label:"--Select Issue--",value:0});var n=wp.i18n.__,o=this.props,i=o.select_issue,l=o.title,a=o.issue_description,s=o.issue_link_text,c=o.issue_link_path,p=o.issue_image,u=o.focus_issue_image,g=o.select_tag,d=o.tag_description,m=o.button_text,h=o.button_link,b=o.tag_image,_=o.focus_tag_image,v=o.issue_image_url,y=o.tag_image_url,k={x:.5,y:.5};if(u){var C=u.replace(/\%/g,"").split(" "),E=U()(C,2);k={x:E[0]/100,y:E[1]/100}}var O={x:.5,y:.5};if(_){var j=_.replace(/\%/g,"").split(" "),S=U()(j,2);O={x:S[0]/100,y:S[1]/100}}var w={width:400,height:100};return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("h3",null,n("Issue fields (Column 1 - Left side)","p4ge")),Object(r.createElement)("div",null,t&&Object(r.createElement)(f.SelectControl,{label:n("Select an issue","p4ge"),value:i,options:t,onChange:this.props.onSelectIssue}),Object(r.createElement)(f.TextControl,{label:n("Issue Title","p4ge"),placeholder:n("Enter Title","p4ge"),value:l,onChange:this.props.onIssueTitleChange,help:n("(Optional) Fill this only if you need to override issue title.","p4ge")}),Object(r.createElement)(f.TextareaControl,{label:n("Issue Description","p4ge"),placeholder:n("Enter Description","p4ge"),help:n("(Optional) Fill this only if you need to override issue description.","p4ge"),value:a,onChange:this.props.onIssueDescriptionChange}),Object(r.createElement)(f.TextControl,{label:n("Issue link text","p4ge"),placeholder:n("Enter link text","p4ge"),value:s,onChange:this.props.onIssueLinkTextChange,help:n("(Optional)","p4ge")}),Object(r.createElement)(f.TextControl,{label:n("Issue link path","p4ge"),placeholder:n("Enter link path","p4ge"),value:c,onChange:this.props.onIssueLinkPathChange,help:n("(Optional)","p4ge")}),n("Issue Image","p4ge"),Object(r.createElement)(q,{title:n("Select Image for Issue","p4ge"),onSelectImage:this.props.onSelectIssueImage,imageId:p,imageUrl:v,buttonLabel:n("+ Select Image for Issue","p4ge"),help:n("(Optional)","p4ge"),imgClass:"splittwocolumns-block-issue-imgs"}),p&&Object(r.createElement)("div",null,n("Select focal point for issue image","p4ge"),Object(r.createElement)(f.FocalPointPicker,{url:v,dimensions:w,value:k,onChange:this.props.onIssueImageFocalPointChange}),n("(Optional)","p4ge"))),Object(r.createElement)("hr",null),Object(r.createElement)("h3",null,n("Campaign fields (Column 2 - Right side)","p4ge")),Object(r.createElement)("div",null,e&&Object(r.createElement)(f.SelectControl,{label:n("Select a tag","p4ge"),value:g,options:e,onChange:this.props.onSelectTag}),Object(r.createElement)(f.TextareaControl,{label:n("Campaign Description","p4ge"),placeholder:n("Enter Description","p4ge"),help:n("(Optional)","p4ge"),value:d,onChange:this.props.onTagDescriptionChange}),Object(r.createElement)(f.TextControl,{label:n("Campaign button text","p4ge"),placeholder:n("Enter button text","p4ge"),value:m,onChange:this.props.onButtonTextChange,help:n("(Optional)","p4ge")}),Object(r.createElement)(f.TextControl,{label:n("Campaign button link","p4ge"),placeholder:n("Enter button link","p4ge"),value:h,onChange:this.props.onButtonLinkChange,help:n("(Optional)","p4ge")}),n("Campaign Image","p4ge"),Object(r.createElement)(q,{title:n("Select Image for Campaign","p4ge"),onSelectImage:this.props.onSelectCampaignImage,imageId:b,imageUrl:y,buttonLabel:n("+ Select Image for Campaign","p4ge"),help:n("(Optional)","p4ge"),imgClass:"splittwocolumns-block-tag_imgs"}),b&&Object(r.createElement)("div",null,n("Select focal point for campaign image","p4ge"),Object(r.createElement)(f.FocalPointPicker,{url:y,dimensions:w,value:O,onChange:this.props.onCampaignImageFocalPointChange}),n("(Optional)","p4ge"))),Object(r.createElement)("hr",null))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/split-two-columns",attributes:{select_issue:this.props.select_issue,title:this.props.title,issue_description:this.props.issue_description,issue_link_text:this.props.issue_link_text,issue_link_path:this.props.issue_link_path,issue_image:this.props.issue_image,focus_issue_image:this.props.focus_issue_image,select_tag:this.props.select_tag,tag_description:this.props.tag_description,button_text:this.props.button_text,button_link:this.props.button_link,tag_image:this.props.tag_image,focus_tag_image:this.props.focus_tag_image}})))}}]),t}(r.Component),Q=(wp.i18n.__,function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"render",value:function(){var e=this;return Object(r.createElement)("div",null,Object(r.createElement)("div",null,"Level ",this.props.index+1),Object(r.createElement)(f.SelectControl,{label:"Submenu item",help:"Submenu item",value:this.props.heading,options:[{label:"None",value:"0"},{label:"Heading 1",value:"1"},{label:"Heading 2",value:"2"},{label:"Heading 3",value:"3"},{label:"Heading 4",value:"4"},{label:"Heading 5",value:"5"},{label:"Heading 6",value:"6"}],onChange:function(t){return e.props.onHeadingChange(e.props.index,t)},className:"submenu-block-attribute-wrapper"}),Object(r.createElement)(f.CheckboxControl,{heading:"Link",help:"Link item",value:this.props.link,checked:this.props.link,onChange:function(t){return e.props.onLinkChange(e.props.index,t)},className:"submenu-level-link"}),Object(r.createElement)(f.SelectControl,{label:"List style",help:"List style",value:this.props.style,options:[{label:"None",value:"none"},{label:"Bullet",value:"bullet"},{label:"Number",value:"number"}],onChange:function(t){return e.props.onStyleChange(e.props.index,t)},className:"submenu-block-attribute-wrapper"}))}}]),t}(b.Component)),V=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__;return Object(r.createElement)("div",null,Object(r.createElement)("h2",null,t("Anchor Link Submenu","p4ge")),Object(r.createElement)("p",null,Object(r.createElement)("i",null,t("An in-page table of contents to help users have a sense of what's on the page and let them jump to a topic they are interested in.","p4ge"))),Object(r.createElement)("h3",null,t("What style of menu do you need?","p4ge")),Object(r.createElement)("div",null,Object(r.createElement)(T,{selectedOption:this.props.submenu_style,onSelectedLayoutChange:this.props.onSelectedLayoutChange,options:[{label:t("Long full-width","p4ge"),image:window.p4ge_vars.home+"images/submenu-long.jpg",value:1,help:t("Use: on long pages (more than 5 screens) when list items are long (+ 10 words)<br>No max items<br>recommended.")},{label:t("Short full-width","p4ge"),image:window.p4ge_vars.home+"images/submenu-short.jpg",value:2,help:t("Use: on long pages (more than 5 screens) when list items are short (up to 5 words)<br>No max items<br>recommended.")},{label:t("Short sidebar","p4ge"),image:window.p4ge_vars.home+"images/submenu-sidebar.jpg",value:3,help:t("Use: on long pages (more than 5 screens) when list items are short (up to 10 words)<br>Max items<br>recommended: 9")}]})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:"Submenu Title",placeholder:"Enter title",value:this.props.title,onChange:this.props.onTitleChange})),Object(r.createElement)("hr",null),this.props.levels.map(function(t,n){return Object(r.createElement)(Q,i()({},t,{onHeadingChange:e.props.onHeadingChange,onLinkChange:e.props.onLinkChange,onStyleChange:e.props.onStyleChange,index:n,key:n}))}),Object(r.createElement)("div",null,Object(r.createElement)(f.Button,{isPrimary:!0,onClick:this.props.addLevel,disabled:this.props.levels.length>=3||0===this.props.levels.slice(-1)[0].heading},"Add level"),Object(r.createElement)(f.Button,{isDefault:!0,onClick:this.props.removeLevel,disabled:this.props.levels.length<=1},"Remove level")))}},{key:"render",value:function(){return Object(r.createElement)(b.Fragment,null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/submenu",attributes:{submenu_style:this.props.submenu_style,title:this.props.title,levels:this.props.levels},urlQueryArgs:{post_id:document.querySelector("#post_ID").value}})))}}]),t}(b.Component),Y=function(e){function t(e){return a()(this,t),u()(this,d()(t).call(this,e))}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.loadTimeline(this.props)}},{key:"componentDidUpdate",value:function(e){this.loadTimeline(e)}},{key:"loadTimeline",value:function(e){this.loadScriptAsync("https://cdn.knightlab.com/libs/timeline3/3.6.3/js/timeline-min.js").then(function(){new TL.Timeline("timeline-1",e.google_sheets_url,{timenav_position:e.timenav_position,start_at_end:e.start_at_end,language:e.language})}.bind(this))}},{key:"loadScriptAsync",value:function(e){return new Promise(function(t,n){var o=document.createElement("script");o.src=e,o.async=!0,o.onload=function(){t()},document.getElementsByTagName("body")[0].appendChild(o)})}},{key:"renderEdit",value:function(){var e=this,t=wp.i18n.__,n=t("Enter the URL of the Google Sheets spreadsheet containing your timeline data.","p4ge");return n+='<br><a href="https://timeline.knightlab.com/#make" target="_blank" rel="noopener noreferrer">',n+=t("See the TimelineJS website for a template GSheet.","p4ge"),n+="</a><br>",n+=t("Copy this, add your own timeline data, and publish to the web.","p4ge"),n+="<br>",n+=t("Once you have done so, use the URL from your address bar (not the one provided in Google's 'publish to web' dialog).","p4ge"),Object(r.createElement)(b.Fragment,null,Object(r.createElement)("div",null,Object(r.createElement)("h2",null,t("Timeline options","p4ge")),Object(r.createElement)("p",null,Object(r.createElement)("i",null,t("Display a timeline from a Google Sheet","p4ge"))),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Timeline Title","p4ge"),placeholder:t("Enter title","p4ge"),value:this.props.timeline_title,onChange:this.props.onTimelineTitleChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextareaControl,{label:t("Description","p4ge"),placeholder:t("Enter description","p4ge"),value:this.props.description,onChange:this.props.onDescriptionChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.TextControl,{label:t("Google Sheets URL","p4ge"),placeholder:t("Enter URL","p4ge"),help:Object(r.createElement)(r.RawHTML,null,n),value:this.props.google_sheets_url,onChange:this.props.onGoogleSheetsUrlChange})),Object(r.createElement)("div",null,Object(r.createElement)(f.SelectControl,{label:t("Language","p4ge"),value:this.props.language,options:[{label:"Afrikaans",value:"af"},{label:"Arabic",value:"ar"},{label:"Armenian",value:"hy"},{label:"Basque",value:"eu"},{label:"Belarusian",value:"be"},{label:"Bulgarian",value:"bg"},{label:"Catalan",value:"ca"},{label:"Chinese",value:"zh-cn"},{label:"Croatian / Hrvatski",value:"hr"},{label:"Czech",value:"cz"},{label:"Danish",value:"da"},{label:"Dutch",value:"nl"},{label:"English",value:"en"},{label:"English (24-hour time)",value:"en-24hr"},{label:"Esperanto",value:"eo"},{label:"Estonian",value:"et"},{label:"Faroese",value:"fo"},{label:"Farsi",value:"fa"},{label:"Finnish",value:"fi"},{label:"French",value:"fr"},{label:"Frisian",value:"fy"},{label:"Galician",value:"gl"},{label:"Georgian",value:"ka"},{label:"German / Deutsch",value:"de"},{label:"Greek",value:"el"},{label:"Hebrew",value:"he"},{label:"Hindi",value:"hi"},{label:"Hungarian",value:"hu"},{label:"Icelandic",value:"is"},{label:"Indonesian",value:"id"},{label:"Irish",value:"ga"},{label:"Italian",value:"it"},{label:"Japanese",value:"ja"},{label:"Korean",value:"ko"},{label:"Latvian",value:"lv"},{label:"Lithuanian",value:"lt"},{label:"Luxembourgish",value:"lb"},{label:"Malay",value:"ms"},{label:"Myanmar",value:"my"},{label:"Nepali",value:"ne"},{label:"Norwegian",value:"no"},{label:"Polish",value:"pl"},{label:"Portuguese",value:"pt"},{label:"pt-br",value:"Portuguese (Brazilian)"},{label:"Romanian",value:"ro"},{label:"Romansh",value:"rm"},{label:"Russian",value:"ru"},{label:"Serbian - Cyrillic",value:"sr-cy"},{label:"Serbian - Latin",value:"sr"},{label:"Sinhalese",value:"si"},{label:"Slovak",value:"sk"},{label:"Slovenian",value:"sl"},{label:"Spanish",value:"es"},{label:"Swedish",value:"sv"},{label:"Tagalog",value:"tl"},{label:"Tamil",value:"ta"},{label:"Taiwanese",value:"zh-tw"},{label:"Telugu",value:"te"},{label:"Thai",value:"th"},{label:"Turkish",value:"tr"},{label:"Ukrainian",value:"uk"},{label:"Urdu",value:"ur"}],onChange:function(t){return e.props.onLanguageChange(t)}})),Object(r.createElement)("div",null,Object(r.createElement)(f.SelectControl,{label:t("Timeline navigation position","p4ge"),value:this.props.timenav_position,options:[{label:"Bottom",value:"bottom"},{label:"Top",value:"top"}],onChange:function(t){return e.props.onTimenavPositionChange(t)}})),Object(r.createElement)("div",null,Object(r.createElement)(f.CheckboxControl,{label:t("Start at end","p4ge"),help:t("Begin at the end of the timeline","p4ge"),value:this.props.start_at_end,checked:this.props.start_at_end,onChange:function(t){return e.props.onStartAtEndChange(t)}}))))}},{key:"render",value:function(){return Object(r.createElement)("div",null,this.props.isSelected?this.renderEdit():null,Object(r.createElement)(_,{showBar:this.props.isSelected},Object(r.createElement)(f.ServerSideRender,{block:"planet4-blocks/timeline",attributes:{timeline_title:this.props.timeline_title,description:this.props.description,google_sheets_url:this.props.google_sheets_url,language:this.props.language,timenav_position:this.props.timenav_position,start_at_end:this.props.start_at_end},urlQueryArgs:{post_id:document.querySelector("#post_ID").value}})))}}]),t}(b.Component),K=wp.i18n.__;new function e(){a()(this,e);var t=wp.blocks.registerBlockType,n=wp.data.withSelect;t(C.articlesConfig.gutenbergTag,{title:"Articles",icon:"welcome-widgets-menus",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:C.articlesConfig.shortCodeTag,attributes:C.articlesConfig.shortcodeAttributes}]},attributes:C.articlesConfig.gutenbergAttributes,edit:n(function(e){var t={hide_empty:!1,per_page:50},n=e("core").getEntityRecords,o=n("taxonomy","post_tag",t);return{postTypesList:n("taxonomy","p4-page-type",t),tagsList:o}})(function(e){var t=e.postTypesList,n=e.tagsList,o=e.isSelected,l=e.attributes,a=e.setAttributes;return n&&t?n&&0===n.length||t&&0===t.length?"Populating block's fields...":Object(r.createElement)(k,i()({},l,{isSelected:o,tagsList:n,postTypesList:t,onSelectedTagsChange:function(e){a({tags:e})},onTitleChange:function(e){a({article_heading:e})},onDescriptionChange:function(e){a({articles_description:e})},onCountChange:function(e){a({article_count:Number(e)})},onSelectedPostsChange:function(e){a({posts:e})},onSelectedPostTypesChange:function(e){a({post_types:e})},onReadmoretextChange:function(e){a({read_more_text:e})},onReadmorelinkChange:function(e){a({read_more_link:e})},onButtonLinkTabChange:function(e){a({button_link_new_tab:e})},onIgnoreCategoriesChange:function(e){a({ignore_categories:e})}})):"Populating block's fields..."}),save:function(){return null}})},new function e(){a()(this,e),(0,wp.blocks.registerBlockType)("planet4-blocks/columns",{title:L("Columns","p4ge"),icon:"grid-view",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_columns",attributes:{columns_block_style:{type:"string",shortcode:function(e){var t=e.named.columns_block_style;return void 0===t?"":t}},columns_title:{type:"string",shortcode:function(e){var t=e.named.columns_title;return void 0===t?"":t}},columns_description:{type:"string",shortcode:function(e){var t=e.named.columns_description;return void 0===t?"":t}},columns:{type:"array",shortcode:function(e){var t=[];if(e.named.title_1){var n={title:e.named.title_1,description:e.named.description_1||"",cta_link:e.named.link_1||"",cta_text:e.named.cta_text_1||"",link_new_tab:e.named.link_new_tab_1||!1};if("no_image"!=e.named.columns_block_style&&(n.attachment=e.named.attachment_1||!1),t.push(Object.assign({},n)),e.named.title_2){var o={title:e.named.title_2,description:e.named.description_2||"",cta_link:e.named.link_2||"",cta_text:e.named.cta_text_2||"",link_new_tab:e.named.link_new_tab_2||!1};if("no_image"!=e.named.columns_block_style&&(o.attachment=e.named.attachment_2||!1),t.push(Object.assign({},o)),e.named.title_3){var i={title:e.named.title_3,description:e.named.description_3||"",cta_link:e.named.link_3||"",cta_text:e.named.cta_text_3||"",link_new_tab:e.named.link_new_tab_3||!1};if("no_image"!=e.named.columns_block_style&&(i.attachment=e.named.attachment_3||!1),t.push(Object.assign({},i)),e.named.title_4){var l={title:e.named.title_4,description:e.named.description_4||"",cta_link:e.named.link_4||"",cta_text:e.named.cta_text_4||"",link_new_tab:e.named.link_new_tab_4||!1};"no_image"!=e.named.columns_block_style&&(l.attachment=e.named.attachment_4||!1),t.push(Object.assign({},l))}}}}return t}}}}]},attributes:{columns_block_style:{type:"string"},columns_title:{type:"string"},columns_description:{type:"string"},columns:{type:"array",default:[],title:{type:"string"},description:{type:"string"},attachment:{type:"string"},cta_link:{type:"string"},link_new_tab:{type:"string"},cta_text:{type:"string"}}},edit:function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(x,i()({},n,{isSelected:t,onSelectedLayoutChange:function(e){if(o({columns_block_style:e}),"no_image"==e){var t=n.columns;if(0<t.length){var i,l=O()(t);for(i=0;i<t.length;i++)l[i].attachment="";o({columns:l})}}},onTitleChange:function(e){o({columns_title:e})},onDescriptionChange:function(e){o({columns_description:e})},onSelectImage:function(e,t){var i=n.columns,l=t.id,a=O()(i);a[e].attachment=l,o({columns:a})},onSelectURL:function(e,t){var i=n.columns,l=null.id,a=O()(i);a[e].attachment=l,o({columns:a})},addColumn:function(){var e=n.columns;e.length<4&&o({columns:[].concat(O()(e),[{title:"",description:"",attachment:"",cta_link:"",cta_text:"",link_new_tab:""}])})},removeColumn:function(){o({columns:n.columns.slice(0,-1)})},onUploadError:function(e){var t=e.message;console.log(t)},onColumnHeaderChange:function(e,t){var i=JSON.parse(JSON.stringify(n.columns));i[e].title=t,o({columns:i})},onColumnDescriptionChange:function(e,t){var i=JSON.parse(JSON.stringify(n.columns));i[e].description=t,o({columns:i})},onCTALinkChange:function(e,t){var i=JSON.parse(JSON.stringify(n.columns));i[e].cta_link=t,o({columns:i})},onLinkNewTabChange:function(e,t){var i=JSON.parse(JSON.stringify(n.columns));i[e].link_new_tab=t,o({columns:i})},onCTAButtonTextChange:function(e,t){var i=JSON.parse(JSON.stringify(n.columns));i[e].cta_text=t,o({columns:i})}}))},save:function(){return null}})},new function e(){a()(this,e),(0,wp.blocks.registerBlockType)("planet4-blocks/cookies",{title:"Cookies",icon:"visibility",category:"planet4-blocks",supports:{multiple:!1},transforms:{from:[{type:"shortcode",tag:"shortcake_cookies",attributes:{title:{type:"string",shortcode:function(e){return e.named.title}},description:{type:"string",shortcode:function(e){return e.named.description}},necessary_cookies_name:{type:"string",shortcode:function(e){return e.named.necessary_cookies_name}},necessary_cookies_description:{type:"string",shortcode:function(e){return e.named.necessary_cookies_description}},all_cookies_name:{type:"string",shortcode:function(e){return e.named.all_cookies_name}},all_cookies_description:{type:"string",shortcode:function(e){return e.named.all_cookies_description}}}}]},attributes:{title:{type:"string"},description:{type:"string"},necessary_cookies_name:{type:"string"},necessary_cookies_description:{type:"string"},all_cookies_name:{type:"string"},all_cookies_description:{type:"string"}},edit:function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(I,i()({},n,{isSelected:t,onTitleChange:function(e){o({title:e})},onDescriptionChange:function(e){o({description:e})},onNecessaryCookiesNameChange:function(e){o({necessary_cookies_name:e})},onNecessaryCookiesDescriptionChange:function(e){o({necessary_cookies_description:e})},onAllCookiesNameChange:function(e){o({all_cookies_name:e})},onAllCookiesDescriptionChange:function(e){o({all_cookies_description:e})}}))},save:function(){return null}})},new function e(){a()(this,e);var t=wp.blocks.registerBlockType;wp.data.withSelect;t("planet4-blocks/counter",{title:"Counter",icon:"dashboard",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_counter",attributes:{style:{type:"string",shortcode:function(e){var t=e.named.style;return void 0===t?"plain":t}},title:{type:"string",shortcode:function(e){var t=e.named.title;return void 0===t?"":t}},description:{type:"string",shortcode:function(e){var t=e.named.description;return void 0===t?"":t}},completed:{type:"integer",shortcode:function(e){var t=e.named.completed;return void 0===t?0:t}},completed_api:{type:"string",shortcode:function(e){var t=e.named.completed_api;return void 0===t?"":t}},target:{type:"integer",shortcode:function(e){var t=e.named.target;return void 0===t?0:t}},text:{type:"string",shortcode:function(e){var t=e.named.text;return void 0===t?"":t}}}}]},attributes:{title:{type:"string"},description:{type:"string"},style:{type:"string",default:"plain"},completed:{type:"integer"},completed_api:{type:"string"},target:{type:"integer"},text:{type:"string"}},edit:function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(P,i()({},n,{isSelected:t,onTitleChange:function(e){o({title:e})},onDescriptionChange:function(e){o({description:e})},onSelectedLayoutChange:function(e){o({style:e})},onCompletedChange:function(e){o({completed:Number(e)})},onCompletedAPIChange:function(e){o({completed_api:e})},onTargetChange:function(e){o({target:Number(e)})},onTextChange:function(e){o({text:e})}}))},save:function(){return null}})},new function e(){a()(this,e);var t=wp.blocks.registerBlockType,n=wp.data.withSelect;t(R.coversConfig.gutenbergTag,{title:"Covers",icon:N,category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:R.coversConfig.shortCodeTag,attributes:R.coversConfig.shortCodeAttributes}]},attributes:R.coversConfig.gutenbergAttributes,edit:n(function(e){var t=e("core").getEntityRecords,n=t("taxonomy","post_tag",{hide_empty:!1,per_page:-1});return{postTypesList:t("taxonomy","p4-page-type"),tagsList:n}})(function(e){var t=e.postTypesList,n=e.tagsList,o=e.isSelected,l=e.attributes,a=e.setAttributes;return n&&t?n||0!==!n.length?Object(r.createElement)(B,i()({},l,{isSelected:o,tagsList:n,postTypesList:t,onSelectedTagsChange:function(e){a({tags:e})},onSelectedLayoutChange:function(e){"1"===e&&a({post_types:[]}),"2"===e&&a({post_types:[]}),a({cover_type:e,posts:[]})},onTitleChange:function(e){a({title:e})},onDescriptionChange:function(e){a({description:e})},onSelectedPostsChange:function(e){a({posts:e})},onSelectedPostTypesChange:function(e){a({post_types:e})},onRowsChange:function(e){a({covers_view:e})}})):"No tags...":"Populating block's fields..."}),save:function(){return null}})},new function e(){a()(this,e);var t=wp.blocks.registerBlockType,n=wp.i18n.__,o=wp.data.withSelect;t("planet4-blocks/gallery",{title:n("Gallery","p4ge"),icon:"format-gallery",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_gallery",attributes:{gallery_block_style:{type:"integer",shortcode:function(e){var t=e.named.gallery_block_style;return void 0===t?"":t}},gallery_block_title:{type:"string",shortcode:function(e){var t=e.named.gallery_block_title;return void 0===t?"":t}},gallery_block_description:{type:"string",shortcode:function(e){var t=e.named.gallery_block_description;return void 0===t?"":t}},multiple_image:{type:"string",shortcode:function(e){var t=e.named.multiple_image;return void 0===t?"":t}},gallery_block_focus_points:{type:"string",shortcode:function(e){var t=e.named.gallery_block_focus_points;return void 0===t?"":t}}}}]},attributes:{gallery_block_style:{type:"number",default:1},gallery_block_title:{type:"string"},gallery_block_description:{type:"string"},multiple_image:{type:"string"},gallery_block_focus_points:{type:"string"},image_data:{type:"object",default:[]}},edit:o(function(e,t){var n=t.attributes.multiple_image,o=[];if(n){var i=n.split(",");$.each(i,function(t,n){var i=e("core").getMedia(n);i&&(o[n]=i.media_details.sizes.medium.source_url)})}return{image_urls_array:o}})(function(e){var t=e.image_urls_array,n=e.isSelected,o=e.attributes,l=e.setAttributes,a=o.image_data,s=o.gallery_block_focus_points;if(0==a.length&&0<t.length){var c=[],p=s?JSON.parse(s):{};for(var u in t){var g=void 0,d=void 0;if($.isEmptyObject(p))g=50,d=50;else{var m=p[u].replace(/\%/g,"").split(" "),h=U()(m,2);g=h[0],d=h[1]}c.push({url:t[u],focalPoint:{x:parseInt(g)/100,y:parseInt(d)/100},id:u})}l({image_data:c})}return Object(r.createElement)(M,i()({},o,{isSelected:n,onSelectedLayoutChange:function(e){l({gallery_block_style:Number(e)})},onSelectImage:function(e){var t=[],n=[];for(var o in e){t.push(e[o].id);var i=e[o].id;n.push({url:e[o].url,focalPoint:{x:.5,y:.5},id:i})}l({multiple_image:t.join(",")}),l({image_data:n})},onTitleChange:function(e){l({gallery_block_title:e})},onDescriptionChange:function(e){l({gallery_block_description:e})},onFocalPointChange:function(e,t){var n=[],o={};a.map(function(i){if(i.id===e){var l=parseFloat(t.x).toFixed(2),a=parseFloat(t.y).toFixed(2);n.push({url:i.url,focalPoint:{x:l,y:a},id:e}),o[e]=100*l+"% "+100*a+"%"}else{n.push(i);var r=i.id;o[r]=parseInt(100*i.focalPoint.x)+"% "+parseInt(100*i.focalPoint.y)+"%"}}),l({gallery_block_focus_points:JSON.stringify(o)}),l({image_data:n})},onRemoveImages:function(){l({multiple_image:""}),l({gallery_block_focus_points:""}),l({image_data:[]})}}))}),save:function(){return null}})},new function e(){a()(this,e);var t=wp.blocks.registerBlockType,n=wp.i18n.__,o=wp.data.withSelect;t("planet4-blocks/happypoint",{title:n("Happypoint","p4ge"),icon:"format-image",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_happy_point",attributes:{opacity:{type:"integer",shortcode:function(e){var t=e.named.opacity;return void 0===t?"":t}},id:{type:"integer",shortcode:function(e){var t=e.named.id;return void 0===t?"":t}},focus_image:{type:"string",shortcode:function(e){var t=e.named.focus_image;return void 0===t?"":t}},mailing_list_iframe:{type:"string",shortcode:function(e){var t=e.named.mailing_list_iframe;return void 0===t?"":t}},iframe_url:{type:"string",shortcode:function(e){var t=e.named.iframe_url;return void 0===t?"":t}}}}]},attributes:{focus_image:{type:"string"},opacity:{type:"number",default:60},mailing_list_iframe:{type:"boolean"},iframe_url:{type:"string"},id:{type:"number"},load_iframe:{type:"boolean",default:!1}},edit:o(function(e,t){var n=t.attributes.id,o="";return n&&0<n&&(o=e("core").getMedia(n))&&(o=o.media_details.sizes.medium.source_url),{img_url:o}})(function(e){var t=e.img_url,n=e.isSelected,o=e.attributes,l=e.setAttributes;return Object(r.createElement)(z,i()({},o,{isSelected:n,url:t,onSelectImage:function(e){var t=e.id;l({id:t})},onOpacityChange:function(e){l({opacity:e})},onMailingListIframeChange:function(e){l({mailing_list_iframe:e})},onIframeUrlChange:function(e){l({iframe_url:e})},onFocalPointChange:function(e){var t=e.x,n=e.y;t=parseFloat(t).toFixed(2),n=parseFloat(n).toFixed(2),l({focus_image:100*t+"% "+100*n+"%"})},onRemoveImages:function(){l({id:-1}),l({focus_image:""})}}))}),save:function(){return null}})},new function e(){a()(this,e),(0,wp.blocks.registerBlockType)("planet4-blocks/media-video",{title:J("Media block","p4ge"),icon:"format-video",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_media_video",attributes:{video_title:{type:"string",shortcode:function(e){var t=e.named.video_title;return void 0===t?"":t}},description:{type:"string",shortcode:function(e){var t=e.named.description;return void 0===t?"":t}},youtube_id:{type:"string",shortcode:function(e){var t=e.named.youtube_id;return void 0===t?"":t}},video_poster_img:{type:"integer",shortcode:function(e){var t=e.named.video_poster_img;return void 0===t?"":t}}}}]},attributes:{video_title:{type:"string"},description:{type:"string"},youtube_id:{type:"string"},video_poster_img:{type:"integer"}},edit:function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(H,i()({},n,{isSelected:t,onTitleChange:function(e){o({video_title:e})},onDescriptionChange:function(e){o({description:e})},onMediaUrlChange:function(e){o({youtube_id:e})},onSelectImage:function(e){var t=e.id;o({video_poster_img:t})},onSelectURL:function(e){e.url,o({id:null})},onUploadError:function(e){var t=e.message;console.log(t)}}))},save:function(){return null}})},new function e(){a()(this,e),(0,wp.blocks.registerBlockType)("planet4-blocks/social-media",{title:(0,wp.i18n.__)("Social Media","p4ge"),icon:"welcome-widgets-menus",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_social_media",attributes:{title:{type:"string",shortcode:function(e){return e.named.title}},description:{type:"string",shortcode:function(e){return e.named.description}},embed_type:{type:"string",shortcode:function(e){return e.named.embed_type}},facebook_page_tab:{type:"string",shortcode:function(e){return e.named.facebook_page_tab}},social_media_url:{type:"string",shortcode:function(e){return e.named.social_media_url}},alignment_class:{type:"string",shortcode:function(e){return e.named.alignment_class}}}}]},attributes:{title:{type:"string",default:""},description:{type:"string",default:""},embed_type:{type:"string",default:"oembed"},facebook_page_tab:{type:"string",default:"timeline"},social_media_url:{type:"string",default:""},alignment_class:{type:"string",default:""}},edit:function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(G,i()({},n,{isSelected:t,onTitleChange:function(e){o({title:e})},onDescriptionChange:function(e){o({description:e})},onEmbedTypeChange:function(e){o({embed_type:e})},onFacebookPageTabChange:function(e){o({facebook_page_tab:e})},onSocialMediaUrlChange:function(e){o({social_media_url:e})},onAlignmentChange:function(e){o({alignment_class:e})}}))},save:function(){return null}})},new function e(){a()(this,e);var t=wp.blocks.registerBlockType,n=wp.i18n.__,o=wp.data.withSelect;t("planet4-blocks/split-two-columns",{title:n("Split Two Columns","p4ge"),icon:"format-gallery",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_split_two_columns",attributes:{select_issue:{type:"integer",shortcode:function(e){var t=e.named.select_issue;return void 0===t?"":t}},title:{type:"string",shortcode:function(e){var t=e.named.title;return void 0===t?"":t}},issue_description:{type:"string",shortcode:function(e){var t=e.named.issue_description;return void 0===t?"":t}},issue_link_text:{type:"string",shortcode:function(e){var t=e.named.issue_link_text;return void 0===t?"":t}},issue_link_path:{type:"string",shortcode:function(e){var t=e.named.issue_link_path;return void 0===t?"":t}},issue_image:{type:"integer",shortcode:function(e){var t=e.named.issue_image;return void 0===t?"":t}},focus_issue_image:{type:"string",shortcode:function(e){var t=e.named.focus_issue_image;return void 0===t?"":t}},select_tag:{type:"integer",shortcode:function(e){var t=e.named.select_tag;return void 0===t?"":t}},tag_description:{type:"string",shortcode:function(e){var t=e.named.tag_description;return void 0===t?"":t}},button_text:{type:"string",shortcode:function(e){var t=e.named.button_text;return void 0===t?"":t}},button_link:{type:"string",shortcode:function(e){var t=e.named.button_link;return void 0===t?"":t}},tag_image:{type:"integer",shortcode:function(e){var t=e.named.tag_image;return void 0===t?"":t}},focus_tag_image:{type:"string",shortcode:function(e){var t=e.named.focus_tag_image;return void 0===t?"":t}}}}]},attributes:{select_issue:{type:"number",default:0},title:{type:"string"},issue_description:{type:"string"},issue_link_text:{type:"string"},issue_link_path:{type:"string"},issue_image:{type:"number"},focus_issue_image:{type:"string"},select_tag:{type:"number",default:0},tag_description:{type:"string"},button_text:{type:"string"},button_link:{type:"string"},tag_image:{type:"number"},focus_tag_image:{type:"string"}},edit:o(function(e,t){var n=e("core").getEntityRecords,o=n("taxonomy","post_tag",{hide_empty:!1,per_page:50}),i=n("postType","page",{per_page:-1,sort_order:"asc",sort_column:"post_title",parent:window.p4ge_vars.planet4_options.explore_page,post_status:"publish"}),l=t.attributes,a=l.issue_image,r=l.tag_image,s="";a&&(s=e("core").getMedia(a))&&(s=s.media_details.sizes.medium.source_url);var c="";return r&&(c=e("core").getMedia(r))&&(c=c.media_details.sizes.medium.source_url),{tagsList:o,issuepageList:i,issue_image_url:s,tag_image_url:c}})(function(e){var t=e.tagsList,n=e.issuepageList,o=e.issue_image_url,l=e.tag_image_url,a=e.isSelected,s=e.attributes,c=e.setAttributes;return t&&n?t&&0===t.length||n&&0===n.length?"Populating block's fields...":Object(r.createElement)(W,i()({},s,{isSelected:a,tagsList:t,issuepageList:n,issue_image_url:o,tag_image_url:l,onSelectIssue:function(e){c({select_issue:parseInt(e)})},onIssueTitleChange:function(e){c({title:e})},onIssueDescriptionChange:function(e){c({issue_description:e})},onIssueLinkTextChange:function(e){c({issue_link_text:e})},onIssueLinkPathChange:function(e){c({issue_link_path:e})},onSelectIssueImage:function(e){var t=e.id;c({issue_image:t})},onIssueImageFocalPointChange:function(e){var t=e.x,n=e.y;c({focus_issue_image:parseInt(100*t)+"% "+parseInt(100*n)+"%"})},onSelectTag:function(e){c({select_tag:parseInt(e)})},onTagDescriptionChange:function(e){c({tag_description:e})},onButtonTextChange:function(e){c({button_text:e})},onButtonLinkChange:function(e){c({button_link:e})},onSelectCampaignImage:function(e){var t=e.id;c({tag_image:t})},onCampaignImageFocalPointChange:function(e){var t=e.x,n=e.y;c({focus_tag_image:parseInt(100*t)+"% "+parseInt(100*n)+"%"})}})):"Populating block's fields..."}),save:function(){return null}})},new function e(){a()(this,e),(0,wp.blocks.registerBlockType)("planet4-blocks/submenu",{title:"Submenu",icon:"welcome-widgets-menus",category:"planet4-blocks",supports:{multiple:!1},transforms:{from:[{type:"shortcode",tag:"shortcake_submenu",attributes:{submenu_style:{type:"integer",shortcode:function(e){return Number(e.named.submenu_style)}},title:{type:"string",shortcode:function(e){return e.named.title}},levels:{type:"array",shortcode:function(e){var t=[];if(e.named.heading1>0){var n={heading:Number(e.named.heading1),link:e.named.link1||!1,style:e.named.style1||"none"};if(t.push(Object.assign({},n)),e.named.heading2>0){var o={heading:Number(e.named.heading2),link:e.named.link2||!1,style:e.named.style2||"none"};if(t.push(Object.assign({},o)),e.named.heading3>0){var i={heading:Number(e.named.heading3),link:e.named.link3||!1,style:e.named.style3||"none"};t.push(Object.assign({},i))}}}return t}}}}]},attributes:{submenu_style:{type:"integer",default:1},title:{type:"string"},levels:{type:"array",default:[{heading:0,link:!1,style:"none"}]}},edit:(0,wp.data.withSelect)(function(e){})(function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(V,i()({},n,{isSelected:t,onSelectedLayoutChange:function(e){o({submenu_style:Number(e)})},onTitleChange:function(e){o({title:e})},onHeadingChange:function(e,t){var i=JSON.parse(JSON.stringify(n.levels));i[e].heading=Number(t),o({levels:i})},onLinkChange:function(e,t){var i=JSON.parse(JSON.stringify(n.levels));i[e].link=t,o({levels:i})},onStyleChange:function(e,t){var i=JSON.parse(JSON.stringify(n.levels));i[e].style=t,o({levels:i})},addLevel:function(){o({levels:n.levels.concat({heading:0,link:!1,style:"none"})})},removeLevel:function(){o({levels:n.levels.slice(0,-1)})}}))}),save:function(){return null}})},new function e(){a()(this,e),(0,wp.blocks.registerBlockType)("planet4-blocks/timeline",{title:K("Timeline","p4ge"),icon:"clock",category:"planet4-blocks",transforms:{from:[{type:"shortcode",tag:"shortcake_timeline",attributes:{timeline_title:{type:"string",shortcode:function(e){return e.named.timeline_title}},description:{type:"string",shortcode:function(e){return e.named.description}},google_sheets_url:{type:"string",shortcode:function(e){return e.named.google_sheets_url}},language:{type:"array",shortcode:function(e){return e.named.language}},timenav_position:{type:"array",shortcode:function(e){return e.named.timenav_position}},start_at_end:{type:"boolean",shortcode:function(e){return e.named.start_at_end}}}}]},attributes:{timeline_title:{type:"string"},description:{type:"string"},google_sheets_url:{type:"string"},language:{type:"string",default:"en"},timenav_position:{type:"string"},start_at_end:{type:"boolean"}},edit:function(e){var t=e.isSelected,n=e.attributes,o=e.setAttributes;return Object(r.createElement)(Y,i()({},n,{isSelected:t,onTimelineTitleChange:function(e){o({timeline_title:e})},onDescriptionChange:function(e){o({description:e})},onGoogleSheetsUrlChange:function(e){o({google_sheets_url:e})},onLanguageChange:function(e){o({language:e})},onTimenavPositionChange:function(e){o({timenav_position:e})},onStartAtEndChange:function(e){o({start_at_end:e})}}))},save:function(){return null}})}},,,,function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){var n=[],o=!0,i=!1,l=void 0;try{for(var a,r=e[Symbol.iterator]();!(o=(a=r.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,l=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw l}}return n}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o}]);